<mxfile host="app.diagrams.net" modified="2025-08-14T07:30:00.000Z" agent="5.0" version="24.7.8" etag="drawio-diagram" type="device">
  <diagram name="smart-review-v2-flow" id="smart-review-v2-flow">
    <mxGraphModel dx="1422" dy="754" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1654" pageHeight="2336" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        
        <!-- Start -->
        <mxCell id="start" value="🚀 開始&#xa;Smart Review v2.0" style="ellipse;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontSize=14;fontStyle=1;fontColor=#000000" vertex="1" parent="1">
          <mxGeometry x="650" y="40" width="200" height="80" as="geometry" />
        </mxCell>
        
        <!-- Command Line Parse -->
        <mxCell id="cmdparse" value="⚙️ コマンドライン引数解析" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=12;fontColor=#000000" vertex="1" parent="1">
          <mxGeometry x="650" y="160" width="200" height="60" as="geometry" />
        </mxCell>
        
        <!-- Option Check -->
        <mxCell id="optcheck" value="オプション判定" style="rhombus;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;fontSize=12;fontColor=#000000" vertex="1" parent="1">
          <mxGeometry x="650" y="260" width="200" height="80" as="geometry" />
        </mxCell>
        
        <!-- Help Option -->
        <mxCell id="help" value="📖 ヘルプ表示&#xa;showHelp()" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontSize=11;fontColor=#000000" vertex="1" parent="1">
          <mxGeometry x="350" y="200" width="120" height="50" as="geometry" />
        </mxCell>
        
        <!-- Version Option -->
        <mxCell id="version" value="🏷️ バージョン表示&#xa;showVersion()" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontSize=11;fontColor=#000000" vertex="1" parent="1">
          <mxGeometry x="350" y="270" width="120" height="50" as="geometry" />
        </mxCell>
        
        <!-- Test Option -->
        <mxCell id="test" value="🧪 システムテスト&#xa;runSystemTest()" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontSize=11;fontColor=#000000" vertex="1" parent="1">
          <mxGeometry x="350" y="340" width="120" height="50" as="geometry" />
        </mxCell>
        
        <!-- Interactive Menu Check -->
        <mxCell id="menucheck" value="対話式メニュー?" style="rhombus;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=11;fontColor=#000000" vertex="1" parent="1">
          <mxGeometry x="650" y="380" width="200" height="60" as="geometry" />
        </mxCell>
        
        <!-- Interactive Menu -->
        <mxCell id="interactive" value="🎯 対話式メニュー表示&#xa;showInteractiveMenu()" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=12;fontStyle=1;fontColor=#000000" vertex="1" parent="1">
          <mxGeometry x="950" y="380" width="180" height="60" as="geometry" />
        </mxCell>
        
        <!-- Menu Options -->
        <mxCell id="menuoptions" value="1️⃣ 変更点レビュー&#xa;2️⃣ 全体スキャン&#xa;3️⃣ セキュリティ監査&#xa;4️⃣ 高優先度のみ&#xa;5️⃣ カスタム設定&#xa;6️⃣ ヘルプ" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontSize=10;fontColor=#000000" vertex="1" parent="1">
          <mxGeometry x="1200" y="360" width="140" height="100" as="geometry" />
        </mxCell>
        
        <!-- Custom Menu -->
        <mxCell id="custommenu" value="🎯 カスタム設定メニュー&#xa;showCustomMenu()" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=11" vertex="1" parent="1">
          <mxGeometry x="1200" y="500" width="140" height="60" as="geometry" />
        </mxCell>
        
        <!-- Main Execution -->
        <mxCell id="mainexec" value="🔧 メイン実行&#xa;executeWithArgs()" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=12;fontStyle=1;fontColor=#000000" vertex="1" parent="1">
          <mxGeometry x="650" y="500" width="200" height="60" as="geometry" />
        </mxCell>
        
        <!-- Configuration Load -->
        <mxCell id="configload" value="⚙️ 設定読み込み&#xa;configManager.loadConfig()" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=11" vertex="1" parent="1">
          <mxGeometry x="650" y="600" width="200" height="50" as="geometry" />
        </mxCell>
        
        <!-- Input Validation -->
        <mxCell id="inputval" value="🛡️ 入力検証&#xa;SecurityUtils.validatePath()&#xa;InputValidator" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;fontSize=11;fontColor=#000000" vertex="1" parent="1">
          <mxGeometry x="650" y="680" width="200" height="60" as="geometry" />
        </mxCell>
        
        <!-- Scope Decision -->
        <mxCell id="scopecheck" value="実行範囲?" style="rhombus;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=12" vertex="1" parent="1">
          <mxGeometry x="650" y="780" width="200" height="60" as="geometry" />
        </mxCell>
        
        <!-- Changes Mode -->
        <mxCell id="changesmode" value="📝 変更検出モード&#xa;detectChanges()" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=11" vertex="1" parent="1">
          <mxGeometry x="450" y="900" width="140" height="50" as="geometry" />
        </mxCell>
        
        <!-- Git Diff -->
        <mxCell id="gitdiff" value="Git差分取得&#xa;最終チェック時間基準" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontSize=10;fontColor=#000000" vertex="1" parent="1">
          <mxGeometry x="300" y="980" width="120" height="40" as="geometry" />
        </mxCell>
        
        <!-- File Filter -->
        <mxCell id="filefilter" value="ファイルフィルタリング&#xa;コード系ファイル抽出" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontSize=10;fontColor=#000000" vertex="1" parent="1">
          <mxGeometry x="450" y="980" width="120" height="40" as="geometry" />
        </mxCell>
        
        <!-- All Mode -->
        <mxCell id="allmode" value="📂 全体スキャンモード&#xa;scanAllFiles()" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=11" vertex="1" parent="1">
          <mxGeometry x="850" y="900" width="140" height="50" as="geometry" />
        </mxCell>
        
        <!-- Directory Scan -->
        <mxCell id="dirscan" value="ディレクトリスキャン&#xa;再帰的ファイル検索" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontSize=10;fontColor=#000000" vertex="1" parent="1">
          <mxGeometry x="850" y="980" width="120" height="40" as="geometry" />
        </mxCell>
        
        <!-- Agent Execution -->
        <mxCell id="agentexec" value="🤖 エージェント実行&#xa;Multi-Agent Orchestration" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=12;fontStyle=1;fontColor=#000000" vertex="1" parent="1">
          <mxGeometry x="650" y="1080" width="200" height="60" as="geometry" />
        </mxCell>
        
        <!-- Agent Details -->
        <mxCell id="securityagent" value="🛡️ Security Agent&#xa;XSS/SQL分析" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;fontSize=10" vertex="1" parent="1">
          <mxGeometry x="350" y="1180" width="100" height="50" as="geometry" />
        </mxCell>
        
        <mxCell id="debugagent" value="🐛 Debug Agent&#xa;バグ検出" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;fontSize=10;fontColor=#000000" vertex="1" parent="1">
          <mxGeometry x="470" y="1180" width="100" height="50" as="geometry" />
        </mxCell>
        
        <mxCell id="reviewagent" value="📊 Review Agent&#xa;品質分析" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontSize=10;fontColor=#000000" vertex="1" parent="1">
          <mxGeometry x="830" y="1180" width="100" height="50" as="geometry" />
        </mxCell>
        
        <mxCell id="docagent" value="📚 Documentation Agent&#xa;文書分析" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=10" vertex="1" parent="1">
          <mxGeometry x="950" y="1180" width="100" height="50" as="geometry" />
        </mxCell>
        
        <!-- Issue Collection -->
        <mxCell id="issuecollect" value="📋 問題収集&#xa;Issue Aggregation" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=12;fontColor=#000000" vertex="1" parent="1">
          <mxGeometry x="650" y="1280" width="200" height="50" as="geometry" />
        </mxCell>
        
        <!-- Priority Filter -->
        <mxCell id="priorityfilter" value="⚖️ 優先度フィルタリング&#xa;Priority-based Filtering" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=11" vertex="1" parent="1">
          <mxGeometry x="650" y="1360" width="200" height="50" as="geometry" />
        </mxCell>
        
        <!-- Auto Fix Check -->
        <mxCell id="autofixcheck" value="自動修正モード?" style="rhombus;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;fontSize=11" vertex="1" parent="1">
          <mxGeometry x="650" y="1440" width="200" height="60" as="geometry" />
        </mxCell>
        
        <!-- Auto Fix Iterations -->
        <mxCell id="autofixloop" value="🔧 自動修正ループ&#xa;Iterative Auto-Fix" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=11" vertex="1" parent="1">
          <mxGeometry x="450" y="1540" width="140" height="50" as="geometry" />
        </mxCell>
        
        <!-- Fix Verification -->
        <mxCell id="fixverify" value="修正検証" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontSize=10;fontColor=#000000" vertex="1" parent="1">
          <mxGeometry x="450" y="1620" width="80" height="30" as="geometry" />
        </mxCell>
        
        <mxCell id="maxitercheck" value="最大回数?" style="rhombus;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=10;fontColor=#000000" vertex="1" parent="1">
          <mxGeometry x="550" y="1620" width="80" height="40" as="geometry" />
        </mxCell>
        
        <!-- TODO Generation -->
        <mxCell id="todogen" value="📝 TODOリスト生成&#xa;generateTodoList()" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=12;fontColor=#000000" vertex="1" parent="1">
          <mxGeometry x="650" y="1540" width="200" height="50" as="geometry" />
        </mxCell>
        
        <!-- Comment Annotation -->
        <mxCell id="comment" value="💬 日本語コメント注釈&#xa;code-comment-annotator-ja" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontSize=11;fontColor=#000000" vertex="1" parent="1">
          <mxGeometry x="650" y="1620" width="200" height="50" as="geometry" />
        </mxCell>
        
        <!-- Report Generation -->
        <mxCell id="reportgen" value="📊 レポート生成&#xa;HTML/Markdown Report" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=12" vertex="1" parent="1">
          <mxGeometry x="650" y="1700" width="200" height="50" as="geometry" />
        </mxCell>
        
        <!-- Report Details -->
        <mxCell id="htmlreport" value="HTML Report&#xa;詳細メトリクス" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontSize=10;fontColor=#000000" vertex="1" parent="1">
          <mxGeometry x="950" y="1680" width="100" height="40" as="geometry" />
        </mxCell>
        
        <mxCell id="mdreport" value="Markdown Report&#xa;要約情報" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontSize=10;fontColor=#000000" vertex="1" parent="1">
          <mxGeometry x="950" y="1730" width="100" height="40" as="geometry" />
        </mxCell>
        
        <!-- Success End -->
        <mxCell id="success" value="✅ 成功終了&#xa;レビュー完了" style="ellipse;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=14;fontStyle=1;fontColor=#000000" vertex="1" parent="1">
          <mxGeometry x="650" y="1800" width="200" height="80" as="geometry" />
        </mxCell>
        
        <!-- Error End -->
        <mxCell id="error" value="❌ エラー終了&#xa;エラーハンドリング" style="ellipse;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;fontSize=14;fontStyle=1;fontColor=#000000" vertex="1" parent="1">
          <mxGeometry x="100" y="1000" width="150" height="80" as="geometry" />
        </mxCell>
        
        <!-- System Test Details -->
        <mxCell id="testdetails" value="🧪 システムテスト項目&#xa;・環境チェック&#xa;・設定検証&#xa;・エージェント確認&#xa;・セキュリティモジュール&#xa;・キャッシュシステム&#xa;・権限チェック" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontSize=10;align=left;" vertex="1" parent="1">
          <mxGeometry x="50" y="200" width="150" height="120" as="geometry" />
        </mxCell>
        
        <!-- Main Flow Arrows -->
        <mxCell id="arrow1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="start" target="cmdparse">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
        <mxCell id="arrow2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="cmdparse" target="optcheck">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
        <!-- Option Branches -->
        <mxCell id="arrow3" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="optcheck" target="help">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="arrow3label" value="--help" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontColor=#000000;" vertex="1" connectable="0" parent="arrow3">
          <mxGeometry x="-0.1" y="-2" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="arrow4" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="optcheck" target="version">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="arrow4label" value="--version" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontColor=#000000;" vertex="1" connectable="0" parent="arrow4">
          <mxGeometry x="-0.1" y="-2" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="arrow5" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="optcheck" target="test">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="arrow5label" value="--test" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontColor=#000000;" vertex="1" connectable="0" parent="arrow5">
          <mxGeometry x="-0.1" y="-2" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="arrow6" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="optcheck" target="menucheck">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="arrow6label" value="その他" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontColor=#000000;" vertex="1" connectable="0" parent="arrow6">
          <mxGeometry x="-0.1" y="-2" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        
        <!-- Menu Flow -->
        <mxCell id="arrow7" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="menucheck" target="interactive">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="arrow7label" value="対話式" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontColor=#000000;" vertex="1" connectable="0" parent="arrow7">
          <mxGeometry x="-0.1" y="-2" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="arrow8" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="menucheck" target="mainexec">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="arrow8label" value="直接実行" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontColor=#000000;" vertex="1" connectable="0" parent="arrow8">
          <mxGeometry x="-0.1" y="-2" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        
        <!-- Interactive Menu Details -->
        <mxCell id="arrow9" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;dashed=1;" edge="1" parent="1" source="interactive" target="menuoptions">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
        <mxCell id="arrow10" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="menuoptions" target="custommenu">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
        <mxCell id="arrow11" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="interactive" target="mainexec">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1040" y="530" />
            </Array>
          </mxGeometry>
        </mxCell>
        
        <!-- Main Execution Flow -->
        <mxCell id="arrow12" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="mainexec" target="configload">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
        <mxCell id="arrow13" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="configload" target="inputval">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
        <mxCell id="arrow14" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="inputval" target="scopecheck">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
        <!-- Scope Branches -->
        <mxCell id="arrow15" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="scopecheck" target="changesmode">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="arrow15label" value="changes" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontColor=#000000;" vertex="1" connectable="0" parent="arrow15">
          <mxGeometry x="-0.1" y="-2" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="arrow16" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="scopecheck" target="allmode">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="arrow16label" value="all" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontColor=#000000;" vertex="1" connectable="0" parent="arrow16">
          <mxGeometry x="-0.1" y="-2" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        
        <!-- Changes Mode Details -->
        <mxCell id="arrow17" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;dashed=1;" edge="1" parent="1" source="changesmode" target="gitdiff">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
        <mxCell id="arrow18" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;dashed=1;" edge="1" parent="1" source="changesmode" target="filefilter">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
        <!-- All Mode Details -->
        <mxCell id="arrow19" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;dashed=1;" edge="1" parent="1" source="allmode" target="dirscan">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
        <!-- Converge to Agent Execution -->
        <mxCell id="arrow20" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="changesmode" target="agentexec">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="520" y="1050" />
              <mxPoint x="620" y="1050" />
              <mxPoint x="620" y="1110" />
            </Array>
          </mxGeometry>
        </mxCell>
        
        <mxCell id="arrow21" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="allmode" target="agentexec">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="920" y="1050" />
              <mxPoint x="880" y="1050" />
              <mxPoint x="880" y="1110" />
            </Array>
          </mxGeometry>
        </mxCell>
        
        <!-- Agent Details -->
        <mxCell id="arrow22" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;dashed=1;" edge="1" parent="1" source="agentexec" target="securityagent">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
        <mxCell id="arrow23" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;dashed=1;" edge="1" parent="1" source="agentexec" target="debugagent">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
        <mxCell id="arrow24" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;dashed=1;" edge="1" parent="1" source="agentexec" target="reviewagent">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
        <mxCell id="arrow25" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;dashed=1;" edge="1" parent="1" source="agentexec" target="docagent">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
        <!-- Post-Agent Processing -->
        <mxCell id="arrow26" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="agentexec" target="issuecollect">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
        <mxCell id="arrow27" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="issuecollect" target="priorityfilter">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
        <mxCell id="arrow28" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="priorityfilter" target="autofixcheck">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
        <!-- Auto Fix Branch -->
        <mxCell id="arrow29" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="autofixcheck" target="autofixloop">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="arrow29label" value="changes" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontColor=#000000;" vertex="1" connectable="0" parent="arrow29">
          <mxGeometry x="-0.1" y="-2" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="arrow30" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="autofixcheck" target="todogen">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="arrow30label" value="all/skip" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontColor=#000000;" vertex="1" connectable="0" parent="arrow30">
          <mxGeometry x="-0.1" y="-2" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        
        <!-- Auto Fix Loop -->
        <mxCell id="arrow31" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="autofixloop" target="fixverify">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
        <mxCell id="arrow32" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="fixverify" target="maxitercheck">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
        <mxCell id="arrow33" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeColor=#d79b00;" edge="1" parent="1" source="maxitercheck" target="autofixloop">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="590" y="1700" />
              <mxPoint x="400" y="1700" />
              <mxPoint x="400" y="1565" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="arrow33label" value="続行" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontColor=#000000;" vertex="1" connectable="0" parent="arrow33">
          <mxGeometry x="-0.1" y="-2" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="arrow34" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="maxitercheck" target="todogen">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="arrow34label" value="完了" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontColor=#000000;" vertex="1" connectable="0" parent="arrow34">
          <mxGeometry x="-0.1" y="-2" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        
        <!-- Final Steps -->
        <mxCell id="arrow35" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="todogen" target="comment">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
        <mxCell id="arrow36" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="comment" target="reportgen">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
        <!-- Report Details -->
        <mxCell id="arrow37" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;dashed=1;" edge="1" parent="1" source="reportgen" target="htmlreport">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
        <mxCell id="arrow38" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;dashed=1;" edge="1" parent="1" source="reportgen" target="mdreport">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
        <mxCell id="arrow39" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="reportgen" target="success">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
        <!-- Error Flows -->
        <mxCell id="arrow40" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;strokeColor=#b85450;dashed=1;" edge="1" parent="1" source="inputval" target="error">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
        <!-- Test Details Arrow -->
        <mxCell id="arrow41" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;dashed=1;" edge="1" parent="1" source="test" target="testdetails">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
        <!-- Title -->
        <mxCell id="title" value="Smart Review v2.0 メインプログラム フロー図&#xa;smart-review-v2.js" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;fontSize=16;fontStyle=1;fontColor=#000000;" vertex="1" parent="1">
          <mxGeometry x="350" y="40" width="400" height="40" as="geometry" />
        </mxCell>
        
        <!-- Legend -->
        <mxCell id="legend" value="🔍 凡例&#xa;━━ メインフロー&#xa;┅┅ 詳細処理&#xa;━━ 分岐処理&#xa;━━ ループ処理&#xa;━━ エラー処理&#xa;&#xa;🎯 対話式UI&#xa;🛡️ セキュリティ&#xa;🤖 エージェント&#xa;📊 レポート生成" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;fontSize=10;align=left;fontColor=#000000;" vertex="1" parent="1">
          <mxGeometry x="1400" y="40" width="150" height="160" as="geometry" />
        </mxCell>
        
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>