# タスク完了時のチェックリスト

## 必須実行コマンド

### 1. コード品質チェック
```bash
npm run lint
```
- ESLintによるコード品質とセキュリティルールの検証
- 自動修正可能な問題は自動的に修正

### 2. セキュリティ監査
```bash
npm run security-audit
```
- npm auditによる既知脆弱性の検出
- moderate以上の脆弱性でエラー

### 3. 設定ファイル検証
```bash
npm run validate-config
```
- smart-review-config.jsの設定検証
- 設定階層の整合性チェック

### 4. テスト実行
```bash
npm run test
```
- Node.jsネイティブテストランナーによるテスト
- システム統合テストも実施

### 5. 統合事前チェック
```bash
npm run pre-commit
```
- 上記1-3の統合実行
- Git commit前の最終確認

## セキュリティ関連の追加チェック

### ファイル変更時の確認項目
1. **パストラバーサル対策**: `SecurityUtils.validatePath()`使用確認
2. **コマンドインジェクション対策**: `SecurityUtils.executeCommand()`使用確認
3. **入力サニタイゼーション**: ユーザー入力の適切な処理
4. **エラーメッセージ**: 機密情報漏洩の防止

### エージェント関連の変更時
1. **エージェント設定**: `smart-review-config.js`の更新
2. **サンドボックス実行**: 隔離実行環境の維持
3. **権限チェック**: 最小権限原則の適用

### 更新機能関連の変更時
1. **ハッシュ検証**: ファイル整合性の確認
2. **ロールバック**: 失敗時の復旧機能
3. **バックアップ**: 重要ファイルの保護

## ドキュメント更新時の要件
- バージョン情報の更新（セマンティックバージョニング）
- JST形式のタイムスタンプ更新
- 更新履歴の追記